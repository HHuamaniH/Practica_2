function msg(n){function ht(){e||(t.css({opacity:0,top:p-50,left:w}),t.css("background-image","url('"+msgBoxImagePath+"msgBoxBackGround.png')"),r.css({opacity:n.opacity}),n.beforeShow(),r.css({width:$(document).width(),height:ct()}),$(f+","+o).fadeIn(0),t.animate({opacity:1,top:p,left:w},200),setTimeout(n.afterShow,200),e=!0,$(window).bind("resize",function(){var n=t.width(),i=t.height(),r=$(window).height(),u=$(window).width(),f=r/2-i/2,e=u/2-n/2;t.css({top:f,left:e})}))}function b(){e&&(n.beforeClose(),t.animate({opacity:0,top:p-50,left:w},200),r.fadeOut(300),setTimeout(function(){t.remove();r.remove()},300),setTimeout(n.afterClose,300),e=!1)}function ct(){var n=document;return Math.max(Math.max(n.body.scrollHeight,n.documentElement.scrollHeight),Math.max(n.body.offsetHeight,n.documentElement.offsetHeight),Math.max(n.body.clientHeight,n.documentElement.clientHeight))}function lt(){t.fadeOut(200).fadeIn(200)}var e=!1,k=typeof n,d={content:k=="string"?n:"Message",title:"Warning",type:"alert",autoClose:!1,timeOut:0,showButtons:!0,buttons:[{value:"Ok"}],inputs:[{type:"text",name:"userName",header:"User Name"},{type:"password",name:"password",header:"Password"}],success:function(){},beforeShow:function(){},afterShow:function(){},beforeClose:function(){},afterClose:function(){},opacity:.1},i,s;if(n=k=="string"?d:n,n.type!=null)switch(n.type){case"alert":n.title=n.title==null?"Warning":n.title;break;case"info":n.title=n.title==null?"Information":n.title;break;case"error":n.title=n.title==null?"Error":n.title;break;case"confirm":n.title=n.title==null?"Confirmation":n.title;n.buttons=n.buttons==null?[{value:"Yes"},{value:"No"},{value:"Cancel"}]:n.buttons;break;case"prompt":n.title=n.title==null?"Log In":n.title;n.buttons=n.buttons==null?[{value:"Login"},{value:"Cancel"}]:n.buttons;break;default:i="alert.png"}n.timeOut=n.timeOut==null?n.content==null?500:n.content.length*70:n.timeOut;n=$.extend(d,n);n.autoClose&&setTimeout(b,n.timeOut);i="";switch(n.type){case"alert":i="alert.png";break;case"info":i="info.png";break;case"error":i="error.png";break;case"confirm":i="confirm.png";break;default:i="alert.png"}var u="msgBox"+(new Date).getTime(),f=u,c=u+"Content",l=u+"Image",a=u+"Buttons",o=u+"BackGround",g="";$(n.buttons).each(function(n,t){g+='<input class="msgButton" type="button" name="'+t.value+'" value="'+t.value+'" />'});s="";$(n.inputs).each(function(n,t){var i=t.type;s+=i=="checkbox"||i=="radiobutton"?'<div class="msgInput"><input type="'+t.type+'" name="'+t.name+'" '+(t.checked==null?"":"checked ='"+t.checked+"'")+' value="'+(typeof t.value=="undefined"?"":t.value)+'" /><text>'+t.header+"<\/text><\/div>":'<div class="msgInput"><span class="msgInputHeader">'+t.header+'<span><input type="'+t.type+'" name="'+t.name+'" value="'+(typeof t.value=="undefined"?"":t.value)+'" /><\/div>'});var nt="<div id="+o+' class="msgBoxBackGround"><\/div>',tt='<div class="msgBoxTitle">'+n.title+"<\/div>",it='<div class="msgBoxContainer"><div id='+l+' class="msgBoxImage"><img src="'+msgBoxImagePath+i+'"/><\/div><div id='+c+' class="msgBoxContent"><p><span>'+n.content+"<\/span><\/p><\/div><\/div>",rt="<div id="+a+' class="msgBoxButtons">'+g+"<\/div>",ut='<div class="msgBoxInputs">'+s+"<\/div>",t,h,v,y,r;n.type=="prompt"?($("html").append(nt+"<div id="+f+' class="msgBox">'+tt+"<div>"+it+(n.showButtons?rt+"<\/div>":"<\/div>")+"<\/div>"),t=$("#"+f),h=$("#"+c),v=$("#"+l),y=$("#"+a),r=$("#"+o),v.remove(),y.css({"text-align":"center","margin-top":"5px"}),h.css({width:"100%",height:"100%"}),h.html(ut)):($("html").append(nt+"<div id="+f+' class="msgBox">'+tt+"<div>"+it+(n.showButtons?rt+"<\/div>":"<\/div>")+"<\/div>"),t=$("#"+f),h=$("#"+c),v=$("#"+l),y=$("#"+a),r=$("#"+o));var ft=t.width(),et=t.height(),ot=$(window).height(),st=$(window).width(),p=ot/2-et/2,w=st/2-ft/2;ht();$("input.msgButton").click(function(t){var r,i;t.preventDefault();r=$(this).val();n.type!="prompt"?n.success(r):(i=[],$("div.msgInput input").each(function(){var n=$(this).attr("name"),t=$(this).val(),r=$(this).attr("type");r=="checkbox"||r=="radiobutton"?i.push({name:n,value:t,checked:$(this).attr("checked")}):i.push({name:n,value:t})}),n.success(r,i));b()});r.click(function(){!n.showButtons||n.autoClose?b():lt()})}var msgBoxImagePath="/Imagenes/General/";jQuery.msgBox=msg;